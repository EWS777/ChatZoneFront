@if(quickMessageList?.length ===0){
  You don't have any messages at this moment
} @else {
  @for (messages of quickMessageList; track messages.idQuickMessage){
    @if (commonError) {
      <div>{{ commonError }}</div>
    }
    <div>
      Your message:
      <input [(ngModel)]="messages.message" (focus)="onStart(messages)" (ngModelChange)="onChange(messages)">
      @if (messageForm.controls.message.errors?.['backend']; as backendErrors) {
        @for (err of backendErrors; track err) {
          <small>{{ err }}</small>
        }
      }
      @if(messages.isEditing){
        <button (click)="update(messages)">Update</button>
        <button (click)="cancel(messages)">Cancel</button>
      }
      <button (click)="delete(messages.idQuickMessage)">Delete message</button>
    </div>
  }
}

<button (click)="changeStatus()">Add message</button>

@if (isCreateOn()){
  @if (commonError) {
    <div>{{ commonError }}</div>
  }
  <br>
  <input type="text" [(ngModel)]="quickMessage.message" placeholder="Enter new message">
  <br>
  @if (messageForm.controls.message.errors?.['backend']; as backendErrors) {
    @for (err of backendErrors; track err) {
      <small>{{ err }}</small>
    }
  }
  <button (click)="create()">Save new message</button>
}
